schema: '2.0'
stages:
  Data_Ingestion:
    cmd: python src\data\Data_Ingestion.py
    deps:
    - path: src\data\Data_Ingestion.py
      hash: md5
      md5: da6ac3bda0dd21e68e1a17e1d6821782
      size: 3471
    params:
      params.yaml:
        Data_Ingestion.test_size: 0.4
    outs:
    - path: data\raw\test.csv
      hash: md5
      md5: 8d028d8e5c28585383276fd4538c8c39
      size: 332828
    - path: data\raw\train.csv
      hash: md5
      md5: 3aa2c149180d8f56d4acdf630b608979
      size: 495145
  data_preprocessing:
    cmd: python src\data\data_preprocessing.py
    deps:
    - path: data\raw\test.csv
      hash: md5
      md5: 8d028d8e5c28585383276fd4538c8c39
      size: 332828
    - path: data\raw\train.csv
      hash: md5
      md5: 3aa2c149180d8f56d4acdf630b608979
      size: 495145
    - path: src\data\data_preprocessing.py
      hash: md5
      md5: 6d68c4464d9b972dc840aaead0ba06af
      size: 4057
    outs:
    - path: data\processed\test.csv
      hash: md5
      md5: edadc2b328531fd362d9db7d4838250b
      size: 227810
    - path: data\processed\train.csv
      hash: md5
      md5: 7e9214ed333be88bfa1c3d2475204133
      size: 338400
  build_features:
    cmd: python src/features/build_features.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: edadc2b328531fd362d9db7d4838250b
      size: 227810
    - path: data\processed\train.csv
      hash: md5
      md5: 7e9214ed333be88bfa1c3d2475204133
      size: 338400
    - path: src\features\build_features.py
      hash: md5
      md5: 3aaab7cd9e6df0c3d459cc86d4da83b0
      size: 3451
    params:
      params.yaml:
        build_features.max_features: 2000
    outs:
    - path: data/interim/test_bow.csv
      hash: md5
      md5: 31748a020679e4399cbf6738aa91a0e6
      size: 16617344
    - path: data/interim/train_bow.csv
      hash: md5
      md5: df1d9d3c5d3b3c7c1573f185f8fa4876
      size: 24919566
  train_model:
    cmd: python src\models\train_model.py
    deps:
    - path: data\interim\train_bow.csv
      hash: md5
      md5: df1d9d3c5d3b3c7c1573f185f8fa4876
      size: 24919566
    - path: src\models\train_model.py
      hash: md5
      md5: ced8d007a458c3d1095fb1cc0a5ccce6
      size: 2793
    params:
      params.yaml:
        train_model.max_depth: 20
        train_model.n_estimators: 200
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 6c89e322a1453280bf68f6d8d29841c9
      size: 5849734
  predict_model:
    cmd: python src\models\predict_model.py
    deps:
    - path: data/interim/test_bow.csv
      hash: md5
      md5: 31748a020679e4399cbf6738aa91a0e6
      size: 16617344
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 6c89e322a1453280bf68f6d8d29841c9
      size: 5849734
    - path: src\models\predict_model.py
      hash: md5
      md5: 4310e38c1903a9a306cde0f9be22a256
      size: 2739
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: b955eea77c3458be814c9dd8d054c637
      size: 147
